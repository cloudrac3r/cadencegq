<!-- TEMPLATE pre -->
<title>New image</title>
<script>
    function bodyLoad() {
        let file = q("#file");
        let progress = q("#progress");
        file.value = "";
        file.disabled = false;
        file.onchange = function() {
            if (!file.files.length) return;
            file.disabled = true;
            submitImage(file.files[0], undefined, imageID => {
                if (imageID) {
                    progress.innerHTML = `Success! <a href="/api/images/${imageID}">View your new image</a>`;
                    progress.classList.add("successDisplay");
                } else {
                    progress.innerHTML = "Failed to submit image";
                    progress.classList.add("errorDisplay");
                    file.disabled = false;
                }
            });
            progress.innerHTML = "Uploading...";
        }
    }
</script>
<!-- TEMPLATE header -->
<div class="infoBox warning" ibid="image-tos" data-ibclosebutton="I understand. Hide this forever.">
    <div>
        <span>
            <p>Before uploading your image, please review the <a href="/about/terms">terms of service,</a> as well as these notes:</p>
            <ul>
                <li>Only PNG and JPEG file formats are supported.</li>
                <li>Unlike most other image hosts, EXIF metadata like camera model and GPS coordinates is <em>not</em> removed from the image.</li>
                <li>This is not a platform for "free speech". It is also not a platform for violent, disturbing, or explicit content. Play nice.</li>
                <li>There is currently no limit on file size, number of uploads, or frequency of uploads, but if this is abused, limits will be put in place.</li>
            </ul>
        </span>
    </div>
</div>
<div>
    <input type="file" id="file" accept=".png,.jpg,.jpeg,image/*">
</div>
<div id="progress"></div>
<!-- TEMPLATE end -->